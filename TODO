Legend:
SPEC!!  - Not specified
SPEC    - Spec not finalized
        - Not done
        * Top priority
        . Partially done
        o Done
        D Deferred
        X Abandoned

For a list of good beginner projects, check out HACKING.

NEEDS TO BE WRITTEN:

For 0.0.3:
        o Write a list of good introductory projects
        o Multithreaded server for better network behavior (no 10ms
          hiccups when receiving; no pauses to shred files or deliver
          messages.)
                o Make all C functions use Py_BEGIN_ALLOW_THREADS and
                  Py_END_ALLOW_THREADS properly.
                o Make all commonly used Python code threadsafe.
                o Make Queues threadsafe.
                        o Design
                        o Implement
                        o Rename Queue.py to ServerQueue.py
                                o Do it
                                o Come up with install code to scrub
                                  old Queue.py where found.
                        o Come up with comments to explain why the
                          whole thing is threadsafe as used, and
                          explain what "as used" means.  Add asserts
                          to check "as used".
                o Make shredding happen in a separate thread.
                o Make delivery happen in a separate thread.
                o Make packet processing happen in a separate thread. 
                o Move message decoding into packet handler thread.
                o Document
                o Refactor until sane -- possibly along with
                  DeliveryQueue refactoring.
                	o Refactor
                        o Change tests to test new interfaces
                        o Remove old interfaces
                        o Remove all users of addr in deliveryqueue
                        o Remove addr from deliveryqueue.
                        o Re-test all modules by hand.
                        o Unit tests for DeliveryPacket's more complex
                          methods.
                o Undaemonize threads; make them get shut
                  down explicitly so they can't die halfway.
                o Processing thread should be thunk-based so it can
                  do more than handle packets.
        o Signals
                o Cleaner shutdown on TERM.
                        o Implement
                        o Test
                o Good reset handling for HUP.
			o Don't die
                        o Reset logs
        X Support maybe (for the alpha cycle only!) to get the mixminion
          version remotely ????
        o Saner retry logic: right now we retry once at each of the 10
          next Mix intervals, regardless of interval length.  (Have a 
          separate retry timer that gets rounded to the nearest mix
          event.)
                o Make 'retry' delivery rates independent and
                  module-adjustable.
                o Make 'drop undeliverable' rate configurable.
                o Make retry rates configurable.
                	o For modules
                        o For MMTP
                o Tests for _parseIntervalList
                o Test for new DeliveryQueue code
                o Validation code for retry intervals.
                o Test for validation code
                o Test for module configuration
        o Tests for stdout/stderr replacement
        o MMTP
                o Code to send junk (connection padding)
                        o Implement for client
                        o Implement for nonblocking client
                        o Debug server
                        o Bump protocol version to 0.2
                        o Implement protocol negotiation. 
                        o Advertise protocols in server descriptor.
                        o Tests
                o Renegotiate connections
                        o Implement
                                o Renegotiate from blocking client
                                o Renegotiate from nonblocking
                        o Test
                o Don't check KEYID if KEYID=Z(20).  (The spec says
                  so, but I don't think this is a good idea.  We never
                  generate packets of this form now; this feature may
                  become deprecated with MMTP>0.2.)
                o Pick a logical value for listen backlog.
        o Core
        	o When generating a DROP packet, the payload should
                  be random, and there should be no tag.
                        o Implement
                        o Test
        o Make ServerInfo more forward-compatible.
                o Support unrecognized keys
        o SMTP
                o Add an extra "this is anonymous" header.
        o Build/install:
                o Uninstall support? (Right now, we take a cowardly
                  approach that may be good enough.)
                o Perhaps 'make install' should nuke dead files. (Queue.py)
                o Support people who _do_ have OpenSSL 0.9.7 installed.
        o Client
                o Faster (adjustable?) timeout on client connect
                  failure.
                        o Implement client timeout (sigalrm?)
                        o Add configuration options and reasonable default.
                        o Unit tests
                o Refactor the heck out of argument parsing.
                o Add "don't use me for anonymity" boilerplate.
                o Client support for reply blocks.
                        o Recheck spec on external reply block format
                        o Implement external reply block format
                        o Test external reply block format
                        o Generate a reply block
                        o Read message from reply block
                        o Send message to reply block
                        o Remember used reply blocks
                        o Examine reply block
                        o Use first reply block in a file.
                        o Refactor and document
                o Read Base64-encoded messages and zbomb messages.
                        o Implement backend
                        o Test backend
                        o Implement frontend
                        o Test frontend
                        o Refactor until clean
                        o Document
                o Client-side pooling.
                	o Design
                        o Implement
                        o Test
                o Make client code multiprocess-safe: locking on
                  cache (if needed!); locking on pool.
                        o Move lock functionality into Common.
                        o Locking on cache
                        o Locking on pool
                        o Refactor locking; use only a single lock
                          for all client functionality.
        o UI
                o Make path parsing accept space around the commas and colon.
                o Make paths print more cleanly.
                o Better command breakdown for pulling directories.
        o Break backward compatibility :P
                o Directories include an "allowable version" section.
                        o Make client check 'Recommended-Software' against
                          current version.
                o Fix aes_ctr128 and bump packet version and write
                  unit tests for counter mode.
        o Bugs
                o mixminion generate-surb > x should work
        o Release candidate 1
                o Note all places that need documentation comments or
                  additional testing.
                o Check all usage messages
                o Triage XXXX's
                o Resolve XXXX003's
                o Bump version numbers
                o Update README
                        o What's new?
                        o Document how to use new features
                        o Installation insns for weird OpenSSL situations
                        o Note that we break backward compatibility
        - Release
                . Resolve XXXX003's.
                - Better (more prominent) error messages when missing
                  openssl.
                - Better errors when missing pythondev.
                . Figure out flock problem. at least say, "blocking on
                  pid #x".
                o Add 'stop-server', 'reload-server' functions.
                - Rename 'reload-server'
                - Come up with way to deal with servers as they
                  upgrade.
                - Go over CVS commit logs for all contents of 'what's
                  new?'

Originally scheduled for 0.0.3, but delayed:
        - UI
                . Good user error reporting strategy.
                - Beautify list-servers output.
                - Better error message when path+routinginfo won't fit 
                  into header.
                - Better concept of too-short paths.
        - Make ServerInfo more forward-compatible.
                - Skip sections completely if the version number isn't
                  recognized.
        - Statistics of some kind (with a server: count messages
          received, errors, etc.)
        - Separate error/other log files. ????
        - Key management:
                . Ability to generate new serverdesc with old keys.
                - Ability to notice discrepancies between SD and
                  server configuration.
                - Consider linewrap protection on server descriptors, 
                  if demand warrants.  (None yet.)
        - Security:
        	- Password-protect dirserver keys
                - Code to generate dummy packets. ????
        - Configurability
                - Put pid and lock and key and queues in different
                  places; coalesce pid and lock.
                - Make all filenames in server config relative to
                  server home, if not absolute.
        - COME UP WITH A REAL TESTING STRATEGY FOR PERFORMANCE AND
           CLI'S AND MULTI-SERVER SITUATIONS.
        - Tests for packet addressed to server with bogus IP.

Required for "1.0":
         [These features must be in place before we can take the system out
          of alpha.  We'll do a series of point releases between 0.0.1 and
          the first beta.]

        - Better CLIs
                - Add another level of CLI commands. (E.g., mixminion server
                  keygen, etc.)
                - Add a --status-fd option similar to GPG's so that
                  we can be more easily embedded.
        - Key rotation and expiry
                - Document "DELKEYS"
                - Automatic keygen as needed
                - Automatic key rotation
                - Password-protected private identity keys
                - Password-protected private link/packet keys
        - Security
                - Make createPrivateDirs gripe about group-writable parent
                  dirs
        - Performance:
                X Directory servers should cache intermediate
                  information. [Pointless for now: my laptop can validate
                  1400 descriptors in 10 seconds.]
        - Modules and module support
                - MBOX
                        - Full config validation
                        - Full boilerplate text
                - Use ESMTP as available
                - Move boilerplate into outside files.  Add a generic
                  'Boilerplate' functionality.
                - Tell ModuleManager about async code (as soon as needed)
                - Real SMTP module
                        - Abuse prevention of some undetermined kind.
                        X Support for setting 'Subject' and 'From' lines.
                        - Support for setting 'Subject' line.  (Maybe 
                          content-type, too?)
                        - Support multiple exit addresses. (cc, bcc, etc.)
                          Needs to be bandwidth-limited.
                - Incoming email gateway
                        - Insert encoded packet into net.
                        - Reply to a reply block
                        - "Anonymize" is 
                - Some notion of 'client modules' would be a good idea.
                - Put 'address' someplace more reasonable.
        - End-to-end issues
                - K-of-N fragmentation and reassembly
                - Make zlib bomb prevention configurable.
        - Configurability
                - Better, documented support for http proxies for
                  downloading directories.
                - Make pooling configurable and more sophisticated.
                - Make SURB logging configurable.
                - Reload configuration on SIGHUP
                - Support for one-side-only MMTP configurations.
                - Add 'ALLOW' lines to blacklist.
                . Freak out properly on missing/unpublishable IP.
                - Make listening configurable for multiple ports/ips, not
                  all of which need be published.  Perhaps allow different
                  rules for each listener. ???? Maybe not really a good idea.
                . Full validation function for client
                . Full validation function for server
                - Ability to disable directory paranoia.
        - Client support
                - Support to remove servers from imported set, or to block
                  servers from directory.
                o Check paths before reading from stdin.
                - Avoid timing distinguishability attack related to
                  check-dir, gen-path, read-from-stdin: only download
                  directory *AFTER* reading?  Strongly recommend a cron job?
                  Write the whole thing off as not-really-an-attack?
                - Some way to read a reply block *and* a message from stdin?
                - Path selection
                        - Watch out for servers that are really the
                          same server
                        - Only pick from the directory when picking
                          random servers.
                        - Notice Allow/Deny.
                        - Notice MMTP protocol versions.
                - Send message to user with known public key
                - Real PKI for end-to-end encryption
        - MMTP / async
                - "IP" belongs in the MMTP part of the server descriptor.
                - Timeout connections more aggressively under higher load.
                - Bandwidth throttling
                - Session management and resumption (security issues?)  Is this
                  really useful for performance?
                        - Server code to find out if clients have renegotiated.
                - Tests for all cases:
                        - Junk
                        - Retry on bogus close.
                        - Multiple senders
                        - Bad senders
                        - Bad recipients
                        - Hunt down leaks
        - Build and install process
                o Well-tested 'make install'
                - A well-tested 'make uninstall'
                - RPMS, debs, and so on
                . Make sure we run on solaris and *BSD.
                - "Somebody" should do a Windows port of the client code
                        - Build process
                        - Any C porting as necessary
                        - Signal code may need to change.
                        - Process mgt code may need to change.
                        - Some kind of substitute for /dev/urandom.
                        - Resolve as-yet-unsuspected platform dependencies
                - An init.d script.
        - Testing
                - Test on other (non-redhat, non-linux) systems
                - Tests for nickname casei.
                - Integration tests
                        - Automated tests for several servers running
                          on one machine.
                        - Tests for servers on several different
                          machines.
                - Repeatable CLI tests.
                        - For client
                        - For server
        - Directories
                - Publishing to directory servers
                        - Support
                        - Automation
                - Downloading from directory servers
                        - Support
                        - Automation
                - Autonomous directory server
                - Configurable dirserver fingerprints and URLs.
                - Support for full-blown multiple-server agreement mechanism
        - Full documentation
                - Complete docs for all code, with comments and examples.
                - Write guide for module developers
                - Write complete user's manual
                - Complete all other docs
                - History.
        - Cosmetic changes
                - Perhaps "SMTP" should be renamed to "MAIL".

Unspecified:
        [We don't have any specification for this functionality, or any
         mandate to include it in 1.0.  If it's specified before 1.0 is
         done, however, it should go in.]

        - Generate link padding
        - Generate dummy messages
        - IPv6 support.
        - Support for multiple directory servers
        - Notice active attacks and block IPs dynamically.

WHEN WE GET THE CHANCE:
        [This stuff could be for any version 1.0 or later; it's not a
         requirement for 1.0.]
        - License-friendliness:
                - Switch from OpenSSL to NSS or GNUTLS
        - GUI
        - Multithreaded design to scale to multiple CPUs
        - Security
                - Memlockall wrapper
                - Generic secure delete
                - Support for loopback fs automation and shredding.
        - Portability
                - Server running on windows.
        - Time the rest of the system
        - Make DB module choice configurable?
        - Consider dropping support for older Python versions?

NEED TO BE TESTED
- Signals

NEED TO BE DOCUMENTED

NEEDS TO BE BENCHMARKED
- TLS for leaks
- PEM for leaks
- gen_dh for leaks
- gen_cert for leaks

-----------
(for emacs)
  Local Variables:
  mode:text
  indent-tabs-mode:nil
  End:
